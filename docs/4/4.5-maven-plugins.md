# Maven Plugins

Plugins are a great way of enhancing tool function without much effort. The build number plugin does a lot and helps to add metadata to projects for logistics purposes. 

 1. Download the latest version of spring-petclinic from your Nexus repository.
 2. Open up the WAR file.
 3. Find the joda-time hibernate library inside the WAR file.
 4. Verify that the version is as expected.
   - Are you sure? It has the right version number, but how do you know it's the one you expected? This makes things hard to debug.
 5. Add the [buildnumber-maven-plugin](http://www.mojohaus.org/buildnumber-maven-plugin/usage.html) to the Joda-time project so that it adds two values to the Maven metadata file.
   - SCM Revision Number and Build Timestamp
 6. Validate that the metadata file inside of the jodatime.jar file has the SCM rivision and timestamp information.
 7. Rebuild spring-petclinic in Jenkins, and then run through steps 1-4 again.

<center>
  ![](img/plugin.png)  
</center>

## Repositories

Read [Repository Manager Best Practices](https://help.sonatype.com/display/NXRM2/Repository+Manager+Best+Practices) from the Sonatype documentation.

It's important to see how components work together in real environments.
 - As a developer of spring-petclinic, you may not necessarily have joda-time and junit building on your computer, but you will have a dependency on them.
 - Imagine your virtual machine is actually a server within your company and not on your local machine.

Configure Maven on your laptop to use Nexus as the repository that grabs dependencies.
 1. Setup your Nexus as an additional repository to (the default) Maven Central.
 2. Setup your Nexus as the _only_ repository the computer will use and have Nexus _proxy_ everything. 
 3. Try changing the GroupID of your clones to mimic proprietary software. You can use `com.devops-bootcamp.samples`.


# Deliverable

Discuss how rebuilding release versions twice in Jenkins can cause downstream issues, the benefits of plugins such as buildnumber, when a proxy should be used for dependencies, and the significance of the GroupID.
